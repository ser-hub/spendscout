{% extends 'layout.html.twig' %}

{% block stylesheets %}
	<link href="{{ asset('styles/profile.css') }}" rel="stylesheet" data-turbo-track="reload">
{% endblock %}

{% block page_content %}
    <div class="layout-horizontal" data-controller="profile" data-endpoint-info="{{ path('app_profile_edit') }} " data-endpoint-credentials="{{ path('app_profile_credentials') }} ">
        <div class="profile-wrapper" data-profile-target="profileWrapper">
        <div class="profile-picture" style="background-color:rgb(
							{{ randomRGBFromString(app.user.firstName, 255) }},
							{{ randomRGBFromString(app.user.lastName, 255) }},
							{{ randomRGBFromString(app.user.firstName ~ app.user.firstName, 255) }});
                            width: 50px;
                            height: 50px;">
						{{ app.user.firstName|first|upper }}{{ app.user.lastName|first|upper }}
					</div>
                    <div class="error-message"></div>
                    <input type="text" id="profile-first-name" name="_firstName" value="{{ app.user.firstName }}" data-profile-target="profileFormFirstName">
                    <input type="text" id="profile-last-name" name="_lastName" value="{{ app.user.lastName }}" data-profile-target="profileFormLastName">
                    <div class="profile-form-bottom-wrapper">
                        <button type="submit" id="submit-btn" class="yellow-btn" data-action="profile#submitProfileForm" data-profile-target="submitFormBtn">Save</button>
                        <button type="submit" id="change-credentials-btn" data-action="profile#changeCredentialsMode" data-email="{{ app.user.email }}">I want to change my login credentials</button>
                    </div>
        </div>
    </div>
{% endblock %}
